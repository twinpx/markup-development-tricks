!function(f){"use strict";f(function(){f(".b-mobile-slide-menu").each(function(){var e,n=f(this);if(n.is(":visible")){f(".header-video").remove(),setTimeout(function(){n.addClass("i-loaded"),f("header").addClass("i-loaded"),h()},2500),0===f(window).scrollTop()?f("html").addClass("i-overflow-hidden"):(f("header").css({marginTop:-1*f("header").height()+"px"}).addClass("i-hidden"),f("html").removeClass("i-overflow-hidden"),f(".b-tour-list").addClass("i-animate-button"));var t,a,i,s={start:0,current:0,end:0},d={start:0,current:0,end:0},r=n.find(".b-msm-slide:eq(0)").addClass("i-active"),o=n.find(".b-msm-menu-item[ data-num="+r.data("num")+" ]").addClass("i-active"),l=75,m=n.find(".b-mobile-slide-menu__menu-container"),c=m.find(".b-msm-menu-item");n.on("touchstart",function(e){e.stopPropagation(),s.start=e.originalEvent.changedTouches[0].pageX,d.start=e.originalEvent.changedTouches[0].pageY}),n.on("touchmove",function(e){e.stopPropagation(),s.current=e.originalEvent.changedTouches[0].pageX,d.current=e.originalEvent.changedTouches[0].pageY,Math.abs(d.current-d.start)<Math.abs(s.current-s.start)||(d.start>d.current?r.is(n.find(".b-msm-slide:last"))?(a=d.start-d.current,f("header").css({marginTop:-.5*a+"px"})):(f("html").addClass("i-overflow-hidden"),a=d.start-d.current,m.css({marginTop:-.4*a+"px"})):d.start<d.current&&(r.is(n.find(".b-msm-slide:first"))?f("html").removeClass("i-overflow-hidden"):(f("html").addClass("i-overflow-hidden"),a=d.start-d.current,m.css({marginTop:-.4*a+"px"}))))}),n.on("touchend",function(e){if(s.end=e.originalEvent.changedTouches[0].pageX,d.end=e.originalEvent.changedTouches[0].pageY,!(Math.abs(d.end-d.start)<Math.abs(s.end-s.start)))if(d.start>d.end)h(),t=r.next(),u();else if(d.start<d.end){if(h(),!(t=r.prev()).length)return;v()}}),f("body").on("touchstart",function(e){f("header").hasClass("i-hidden")&&(s.start=e.originalEvent.changedTouches[0].pageX,d.start=e.originalEvent.changedTouches[0].pageY)}),f("body").on("touchend",function(e){f("header").hasClass("i-hidden")&&(s.end=e.originalEvent.changedTouches[0].pageX,d.end=e.originalEvent.changedTouches[0].pageY,Math.abs(d.end-d.start)<Math.abs(s.end-s.start)||d.start<d.end&&f(window).scrollTop()<=0&&(f("header").removeClass("i-hidden").css({marginTop:0}),h(),f("html").addClass("i-overflow-hidden")))}),f(".b-mobile-slide-menu__scroll-down").click(function(){g()})}function h(){e&&clearInterval(e),e=setInterval(function(){(t=r.next()).length||(t=n.find(".b-msm-slide:eq(0)")),u()},2e3)}function u(){!t.length||d.start>=Number(f(window).height()/2)+Number(m.height())?g():v()}function g(){n.css({marginTop:0}),f("header").css({marginTop:-1*f("header").height()+"px"}).addClass("i-hidden"),e&&clearInterval(e),t=n.find(".b-msm-slide:eq(0)"),v(),f(".b-tour-list").addClass("i-animate-button"),setTimeout(function(){f("html").removeClass("i-overflow-hidden")},500)}function v(){r.addClass("i-animate"),r=t.addClass("i-sub"),clearTimeout(i),i=setTimeout(function(){n.find(".b-msm-slide.i-active").removeClass("i-animate").removeClass("i-active"),t.removeClass("i-sub").addClass("i-active")},500),o.removeClass("i-active"),o=n.find(".b-msm-menu-item[ data-num="+r.data("num")+" ]").addClass("i-active").removeClass("i-hidden"),m.css({top:"calc( 50% - 20px - "+(c.index(m.find(".i-active"))*l+l/2)+"px )",marginTop:0});for(var e=r.data("num")-3;0<=e;)n.find(".b-msm-menu-item[ data-num="+e--+" ]").addClass("i-hidden");for(var a=r.data("num")-2;a<=c.length;)n.find(".b-msm-menu-item[ data-num="+a+++" ]").removeClass("i-hidden");f("html").addClass("i-overflow-hidden")}})})}(jQuery);
!function(u){"use strict";u(function(){u(".b-mobile-slide-menu").each(function(){var s=u(this);if(s.is(":visible")){0===u(window).scrollTop()?u("html").addClass("i-overflow-hidden"):(s.addClass("i-hidden"),u("html").removeClass("i-overflow-hidden"));var a,t,i={start:0,current:0,end:0},n={start:0,current:0,end:0},d=s.find(".b-msm-slide:eq(0)").addClass("i-active"),e=s.find(".b-msm-menu-item[ data-num="+d.data("num")+" ]").addClass("i-active"),r=75,o=s.find(".b-mobile-slide-menu__menu-container"),c=o.find(".b-msm-menu-item");s.on("touchstart",function(e){e.stopPropagation(),i.start=e.changedTouches[0].pageX,n.start=e.changedTouches[0].pageY}),s.on("touchmove",function(e){e.stopPropagation(),s.hasClass("i-swipe-up")||s.hasClass("i-swipe-down")||(i.current=e.changedTouches[0].pageX,n.current=e.changedTouches[0].pageY,Math.abs(n.current-n.start)<Math.abs(i.current-i.start)||(n.start>n.current?d.is(s.find(".b-msm-slide:last"))?(t=n.start-n.current,s.css({marginTop:-.5*t+"px"})):(u("html").addClass("i-overflow-hidden"),t=n.start-n.current,o.css({marginTop:-.1*t+"px"})):n.start<n.current&&(d.is(s.find(".b-msm-slide:first"))?u("html").removeClass("i-overflow-hidden"):(u("html").addClass("i-overflow-hidden"),t=n.start-n.current,o.css({marginTop:-.1*t+"px"})))))}),s.on("touchend",function(e){if(!(s.hasClass("i-swipe-up")||s.hasClass("i-swipe-down")||(i.end=e.changedTouches[0].pageX,n.end=e.changedTouches[0].pageY,Math.abs(n.current-n.start)<Math.abs(i.current-i.start))))if(n.start>n.end){if(!(a=d.next()).length||n.start>=Number(u(window).height()/2)+Number(o.height()))return s.addClass("i-hidden").css({marginTop:0}),void setTimeout(function(){u("html").removeClass("i-overflow-hidden")},500);h()}else if(n.start<n.end){if(!(a=d.prev()).length)return;h()}}),u(".b-msm-menu-item").click(function(e){if(u(this).hasClass("i-active"))return!0;e.preventDefault(),a=s.find(".b-msm-slide[ data-num="+u(this).data("num")+" ]"),h()}),u("body").on("touchstart",function(e){s.hasClass("i-hidden")&&(i.start=e.changedTouches[0].pageX,n.start=e.changedTouches[0].pageY)}),u("body").on("touchend",function(e){s.hasClass("i-hidden")&&(i.end=e.changedTouches[0].pageX,n.end=e.changedTouches[0].pageY,Math.abs(n.current-n.start)<Math.abs(i.current-i.start)||n.start<n.end&&0===u(window).scrollTop()&&(s.removeClass("i-hidden"),u("html").addClass("i-overflow-hidden")))})}function h(){d.addClass("i-animate"),d=a.addClass("i-sub"),setTimeout(function(){s.find(".b-msm-slide.i-active").removeClass("i-animate").removeClass("i-active"),a.removeClass("i-sub").addClass("i-active")},500),e.removeClass("i-active"),e=s.find(".b-msm-menu-item[ data-num="+d.data("num")+" ]").addClass("i-active"),o.css({top:"calc( 50% - "+(c.index(o.find(".i-active"))*r+r/2)+"px )",marginTop:0}),u("html").addClass("i-overflow-hidden")}})})}(jQuery);
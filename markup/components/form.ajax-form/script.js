!function(a){"use strict";a(function(){a(".b-ajax-form").each(function(){var i=a(this),t=i.find("form"),e=i.find(".b-ajax-form__response"),n=i.find(".b-ajax-form__error"),s=t.find(".btn[ type=submit ]");a.fn.mask&&t.find("#tel").mask("+9 (999) 999 99 99"),s.click(function(i){var e=!1;t.find('input[ type="text" ]').each(function(){var i=a(this);""===a.trim(i.val())?(i.closest(".input-field").addClass("invalid"),e=!0):i.closest(".input-field").removeClass("invalid")}),t.find('input[ type="email" ]').each(function(){var i=a(this);i.val().match(/^([^@\s]+)@((?:[-a-z0-9]+\.)+[a-z]{2,})$/i)?i.closest(".input-field").removeClass("invalid"):(i.closest(".input-field").addClass("invalid"),e=!0)}),t.find('input[ type="tel" ]').each(function(){var i=a(this);i.val().match(/^[\+]?[0-9]?\s?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9\s]{4,6}$/im)?i.closest(".input-field").removeClass("invalid"):(i.closest(".input-field").addClass("invalid"),i.siblings("label").addClass("active"),e=!0)}),e&&(i.preventDefault(),t.find(".input-field.invalid:eq(0) input").focus())}),t.submit(function(i){i.preventDefault(),a.ajax({url:t.attr("action"),type:t.attr("method"),dataType:"json",data:t.serialize(),success:function(i){i&&"object"==typeof i&&i.STATUS&&("Y"===i.STATUS&&i.MESSAGE?(a("#formResponseID-1, #formResponseID-2").text(i.MESSAGE),t.hide(),n.hide(),e.show()):"N"===i.STATUS&&i.MESSAGE&&(t.show(),n.show(),a(".b-ajax-form__error").text(i.MESSAGE),e.hide()))},error:function(i,e,t){window.console&&(console.log(i),console.log(e),console.log(t))}})})})})}(jQuery);